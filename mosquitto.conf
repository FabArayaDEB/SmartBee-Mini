# Mosquitto configuration file for SmartBee Mini
# Basic configuration for local development

# Allow anonymous connections for local development
allow_anonymous true

# Standard MQTT port
listener 1883
protocol mqtt

# Custom port for SmartBee application
listener 1884
protocol mqtt

# WebSocket support (for web clients)
listener 9001
protocol websockets

# Logging
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information

# Persistence
persistence true
persistence_location /var/lib/mosquitto/

# Security settings for production (commented for local development)
# password_file /etc/mosquitto/passwd
# acl_file /etc/mosquitto/acl

# Connection settings
max_connections 1000
max_inflight_messages 20
max_queued_messages 100

# Keep alive settings
keepalive_interval 60

# Message size limits
message_size_limit 268435456

# Client settings
clientid_prefixes smartbee_

# Topic settings for SmartBee
# Topics will be in format: smartbee/nodes/{nodeId}/data